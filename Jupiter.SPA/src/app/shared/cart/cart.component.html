<div class="card-holder">
  <div class="card-item-holder">
    <mat-card>
      <div class="header-label row">
        <div class="col-md-12 cart-header">
          <b>YOUR CART</b>
        </div>
      </div>
      <div>
        <div>
          <br>
          <!-- <label class="custom-padding-label font-color-turqouise">De-select all items</label> -->
        </div>
        <div class="cartitem-list-wrapper">
          <div class="cart-item">
            <div style="width: 100%;" class="align-right">
              <label class="padding-left-15">Price</label>

            </div>
            <mat-divider></mat-divider>
            <br>
            <div *ngIf="cartItems?.cartItemsInfo?.length == 0"
              style="text-align: center;font-size: x-large;color: gray;">
              No Products to display.
            </div>
            <div class="item-details" *ngFor="let product of cartItems?.cartItemsInfo; let i = index">
              <div style="width: 3%;">
                <!-- <mat-checkbox class="padding-10" [(ngModel)]="product.selected" [name]="isSelected"></mat-checkbox> -->
                <!-- <mat-checkbox class="padding-10" formControlName="selected" (change)="updatePersonalize($event,i,garment)"></mat-checkbox> -->
              </div>
              <div class="padding-10">
                <img [src]="product?.productImages ? product?.productImages[0] : noImagePlaceholder" class="cartitem-img-holder" />
              </div>
              <div style="width: 77%;" class="padding-10">
                <label class="bold-font">
                  {{product?.displayName ? product?.displayName : product?.productName}}
                </label>
                <br>
                <label class="font-weight-light font-italic">{{product?.styleName || ""}}</label>
                <br>
                <label>{{product?.productCategoryInfo?.name}}</label>
                <br>
                <!-- <label *ngIf="product.quantity>0" class="font-color-green">in stock</label>
                <label *ngIf="product.quantity<0" class="font-color-green">out of stock</label> -->
                <label class="font-color-green">
                  {{product?.teamStoreId ? "Store Order (" + (product?.teamStoreName || " - ") + ")" : "Web Order"}}
                </label>
                <br>
                <br>
                <div class="cartitem-actions">
                  <div class="w-100">
                    <table>
                      <tr>
                        <th>Color :</th>
                        <td>{{product?.cartItemGrids[0]?.color}}</td>
                      </tr>
                      <tr>
                        <th>Sizes :</th>
                        <td>
                          <ng-container *ngFor="let p of product?.cartItemGrids">
                            <div *ngIf="p.quantity && p.quantity>0" class="w-100 p-1">{{p.size}}</div>
                          </ng-container>
                        </td>
                        <td>
                          <ng-container *ngFor="let p of product?.cartItemGrids">
                            <div *ngIf="p.quantity && p.quantity>0" class="w-100 p-1">({{p.quantity}})</div>
                          </ng-container>
                        </td>
                      </tr>
                      <tr>
                        <td colspan="2">
                          Total Quantity :
                        </td>
                        <td>
                          &nbsp;&nbsp;{{product.quantity}}
                        </td>
                      </tr>
                    </table>
                  </div>

                </div>
                <!-- <div class="cartitem-actions"> -->

                <!-- &nbsp; | &nbsp;
                  <mat-icon aria-hidden="false" aria-label="remove icon" (click)="deleteItem(product,i)">delete</mat-icon> -->
                <!-- </div> -->

                <!-- <br> -->
                <div>
                  <button class="btn btn-outline-primary px-3" (click)="addMore(product)">
                    Edit
                  </button>

                  <button class="btn btn-outline-primary px-3 ml-2" (click)="deleteItem(product,i)">
                    Remove Item
                  </button>

                  <button *ngIf="product.isPersonalize" class="btn btn-outline-primary px-3 ml-2"
                    (click)="openPersonalizationModal(product)">
                    View Personalization
                  </button>
                  <!-- <a routerLinkActive="true" (click)="addMore(product)" [routerLink]="'/enduser/buyfromlivestore/productview/'+product.id">
                    Edit Quantity</a> -->

                </div>
              </div>
              <div style="width: 5%;" class="padding-10">
                <label>${{product.totalPrice}}</label>
              </div>
            </div>

          </div>
        </div>

      </div>
    </mat-card>
  </div>
  <div class="card-price-holder">
    <mat-card>
      <div class="header-label row">
        <div class="col-md-12 cart-header">
          <b>SUBTOTAL</b>
        </div>
      </div>
      <div class="center-align price-card-margin ">
        <label class="cart-price-label bold-font">({{cartItems? cartItems.cartItemsInfo.length : 0}})Items:
          ${{totalAmount}}</label>
      </div>
      <div class="cart-actions price-card-margin center-align ">
        <div><button class="btn btn-primary btn-style" (click)="goBackToProductSelection()">Continue Shopping</button>
        </div>
        <br>
        <div><button class="btn btn-primary btn-style" (click)="checkout()"
            [disabled]="cartItems?.cartItemsInfo?.length == 0">Check Out</button></div>
      </div>
      <br>
      <!-- <mat-divider style="margin-top: 10px;"></mat-divider> -->
      <!-- <div class="suggested-items-wrapper price-card-margin ">
        <label class="bold-font">SUGGESTED ITEMS:</label>
        <div class="suggested-items-holder center-align">
          <div class="suggested-item">
            <img src="http://imprint.eastus2.cloudapp.azure.com/designer/assets/design_previews/carts/202103170741104996_1.png" class="cartitem-img-holder">
            <br>
            <label>
              Aries Humble Hoodie
            </label>
            <br>
            <button class="btn btn-primary btn-style">ADD TO CART</button>
          </div>
        </div>
      </div> -->
    </mat-card>
    <!-- <div class="remove-all-btn">
      <div (click)="removeSelected()">
        <mat-icon aria-hidden="false" aria-label="remove selected icon">delete</mat-icon> Remove Selected
      </div>
    </div> -->
  </div>
</div>
<div class="modal fade" id="personalizationModal" role="dialog" data-keyboard="false" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" (click)="togglePersonalizationModal()">
          &times;
        </button>
      </div>
      <div class="modal-body">
        <table class="table custom-table">
          <thead style="padding: 5px;">
            <tr>
              <th width="30%">Name</th>
              <th width="15%">Number</th>
              <th width="10%">Size</th>
              <th width="15%">Qty</th>
            </tr>
          </thead>
          <tbody style="max-height: 200px;overflow-y: scroll;">
            <ng-container *ngFor="let item of cartGridItems">
              <tr *ngIf="item.personalize">
                <td>
                  <span>
                    <label>{{item?.name}}</label>
                  </span>
                </td>
                <td>
                  <span>
                    <label>{{item?.number}}</label>
                  </span>
                </td>
                <td>
                  <span>
                    <label>{{item?.size}}</label>
                  </span>
                </td>
                <td>
                  <span>
                    <label>{{item?.quantity}}</label>
                  </span>
                </td>
              </tr>
            </ng-container>

          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>