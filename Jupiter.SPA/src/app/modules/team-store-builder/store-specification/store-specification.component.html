<table mat-table [dataSource]="dataSource" class="mat-elevation-z8" width="100%">
  <ng-container matColumnDef="storeName">
    <th mat-header-cell *matHeaderCellDef>Store Name</th>
    <td mat-cell *matCellDef="let element">{{ element.storeName }}</td>
  </ng-container>
  <ng-container matColumnDef="storeOwner">
    <th mat-header-cell *matHeaderCellDef>Store Owner</th>
    <td mat-cell *matCellDef="let element">{{ element.storeOwner }}</td>
  </ng-container>
  <ng-container matColumnDef="orderNumber">
    <th mat-header-cell *matHeaderCellDef>Store Id</th>
    <td mat-cell *matCellDef="let element">{{ element.orderNumber }}</td>
  </ng-container>
  <ng-container matColumnDef="accountManager">
    <th mat-header-cell *matHeaderCellDef>Account Manager</th>
    <td mat-cell *matCellDef="let element">{{ element.accountManager }}</td>
  </ng-container>
  <ng-container matColumnDef="assignedTo">
    <th mat-header-cell *matHeaderCellDef>Assigned To</th>
    <td mat-cell *matCellDef="let element">{{ element.assignedTo }}</td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="storeListColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: storeListColumns"></tr>
</table>

<mat-card>
  <form [formGroup]="storeRequestForm">
    <div class="row" style="background-color: lightgrey">
      <div class="col-md-12" style="
          height: 40px;
          margin: auto;
          display: inline;
          padding: 10px;
          margin-left: 10px;
        ">
        <b>Store Specification</b>
      </div>
    </div>
    <br />
    <div>
      <span class="cardHeader">Art Selected</span>
      <button type="button" class="btn btn-primary addArtBtn" 
      data-toggle="modal" data-target="#addArtModal" 
      *ngIf="artArray.length<5" 
      style="font-size: 10px;" >Add Art URL</button>
      <button type="button" class="btn btn-primary addArtBtn" (click)="uploadArtId.click()" *ngIf="artArray.length<5"
      style="font-size: 10px;margin-right: 5px;" >
        <span>Upload Art</span>
        <input #uploadArtId type="file" style="display:none;" (change)="uploadArt($event.target.files)" accept="image/*" />
      </button>
    </div>
    <br>
    <mat-card class="artDetailCard">
      <table class="table">
        <thead>
          <tr>
            <th width="5%">SL</th>
            <th width="80%">Art Link</th>
            <th width="10%">Art</th>
            <th width="5%"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let art of artArray; let i = index;">
            <td>{{i + 1}}</td>
            <td>
              <h6 class="disableWordWrap">{{ art.src }}</h6>
            </td>
            <td><img class="artImgHolder" src="{{art.src}}" /></td>
            <td>
              <!-- <span class="material-icons" (click)="removeArt(i)" style="cursor: pointer;">
                clear
              </span> -->
            </td>
          </tr>
        </tbody>
      </table>
    </mat-card>
    <br><br>
    <!-- data-toggle="modal" data-target="#addProductModal2"  -->
    <button type="button" class="btn btn-primary addArtBtn" 
    (click)="openProductList()" style="float: right;font-size: 10px;" >
      Add Products
    </button>
    <br>
    <br />
    <div class="row">
      <div class="col-md-12">
        <mat-card>
          <div class="productRow productRowHeader">
            <div class="productCol7">
              <label>Personalize</label>
            </div>
            <div class="productCol7">
              <label>Style Name</label>
            </div>
            <div class="productCol17">
              <label>Garments Selected</label>
            </div>
            <div class="productCol17">
              <label>Display Name</label>
            </div>
            <div class="productCol7">
              <label>Colors</label>
            </div>
            <div class="productCol7">
              <label>Product Price</label>
            </div>
            <div class="productCol7">
              <label>Fundraising %</label>
            </div>
            <div class="productCol7">
              <label>Fundraising Amount</label>
            </div>
            <div class="productCol7">
              <label>Discount</label>
            </div>
            <div class="productCol7">
              <label>Total Deco Pricing</label>
            </div>
            <div class="productCol7">
              <label>Total Price</label>
            </div>
            <div class="productCol7">
            </div>
          </div>
          <form [formGroup]="storeRequestForm" style="margin-left: -15px;margin-right: -15px;">
            <div formArrayName="garmentsRequested" class="custom-scrollable-wrapper">
              <div class="productRow" style="margin-bottom: 5px;padding-left: 15px;" 
              *ngFor="let garment of storeRequestForm.get('garmentsRequested').controls; let i=index;odd as isOdd; even as isEven" 
              [class.even]="isEven" [class.odd]="isOdd">
                <div class="productCol7 padding-top25" [formGroupName]="i">
                  <mat-checkbox class="example-margin" formControlName="personalize" 
                  (change)="updatePersonalize($event,garment.controls.teamStoreGarmentPersonalizations,i)" ></mat-checkbox>
                </div>
                <div class="productCol7">
                  <mat-form-field [formGroupName]="i">
                    <input matInput formControlName="styleName" type="text" id="{{ i }}" readonly />
                    <!-- <input matInput formControlName="productId" type="text" id="{{ i }}" readonly /> -->
                  </mat-form-field>
                </div>
                <div class="productCol17">
                  <mat-form-field [formGroupName]="i">
                    <input matInput formControlName="productName" type="text" id="{{ i }}" readonly />
                  </mat-form-field>
                </div>
                <div class="productCol17">
                  <mat-form-field [formGroupName]="i">
                    <input matInput formControlName="displayName" type="text" id="{{ i }}" readonly/>
                  </mat-form-field>
                </div>
                <div class="productCol7">
                  <mat-form-field class="wrapField" [formGroupName]="i" >
                    <mat-select formControlName="color" (selectionChange)="onGarmentColorChange($event.value,i);getTotal(garment);">
                      <ng-container *ngFor="let item of productColorArray[i]">
                        <mat-option *ngIf="item?.images?.length > 0" [value]="item.id">{{item.name}}</mat-option>
                      </ng-container>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="productCol7">
                  <mat-form-field [formGroupName]="i">
                    <span matPrefix>$&nbsp;</span>
                    <input matInput formControlName="price" type="number" min="0" id="{{ i }}" 
                    (keyup)="getTotal(garment)" readonly />
                  </mat-form-field>
                </div>
                <div class="productCol7">
                  <mat-form-field [formGroupName]="i">
                    <input matInput formControlName="fundraiserPercentage" type="number" min="0" id="{{ i }}" 
                    (keyup)="getTotal(garment)"/>
                    <span matSuffix>%</span>
                  </mat-form-field>
                </div>
                <div class="productCol7">
                  <mat-form-field [formGroupName]="i">
                    <span matPrefix>$&nbsp;</span>
                    <input matInput formControlName="fundraiserAmount" type="number" min="0" id="{{ i }}" 
                    (keyup)="getProductfundraisingPercentage(garment)"/>
                  </mat-form-field>
                </div>
                <div class="productCol7">
                  <mat-form-field [formGroupName]="i">
                    <span matPrefix>$&nbsp;</span>
                    <input matInput formControlName="discount" type="number" min="0" id="{{ i }}" 
                    (keyup)="getTotal(garment)" readonly/>
                    <span matSuffix style="cursor: pointer;" 
                      *ngIf="storeRequestForm.value.garmentsRequested[i].discountStatus"
                      [ngStyle]="{'color': 
                      storeRequestForm.value.garmentsRequested[i].discountStatus == 1 ? 'orange' :
                      storeRequestForm.value.garmentsRequested[i].discountStatus == 2 ? 'green' :
                      storeRequestForm.value.garmentsRequested[i].discountStatus == 3 ? 'red' : 'black'}"
                      title="{{
                        storeRequestForm.value.garmentsRequested[i].discountStatus == 1 ? 'Discount pending approval' :
                        storeRequestForm.value.garmentsRequested[i].discountStatus == 2 ? 'Discount Approved' :
                        storeRequestForm.value.garmentsRequested[i].discountStatus == 3 ? 'Discount rejected' : ''
                      }}"><mat-icon>error_outline</mat-icon></span>
                  </mat-form-field>
                </div>
                <div class="productCol7">
                  <mat-form-field [formGroupName]="i">
                    <span matPrefix>$&nbsp;</span>
                    <input matInput formControlName="decoPrice" type="number" min="0" id="{{ i }}" readonly />
                  </mat-form-field>
                </div>
                <div class="productCol7">
                  <mat-form-field [formGroupName]="i">
                    <span matPrefix>$&nbsp;</span>
                    <input matInput formControlName="total" type="number" min="0" id="{{ i }}" readonly />
                  </mat-form-field>
                </div>
                <div class="productCol3" class="padding-top25">
                  <div [formGroupName]="i" style="display: flex;">
                    
                    <span class="material-icons"  style="cursor: pointer;" (click)="removeProduct(i)"> 
                      clear
                    </span>
                    <img (click)="designProduct(i)" class="designer-icon" src="{{isDesigned(i) ? designedIcon : designerIcon}}" 
                    alt="Design Product">
                  </div>
                </div>
                <div class="productCol100" style="border: lightgrey solid 1px;" [formGroupName]="i">
                  <div formArrayName="artMapping">
                    <div class="productRow" *ngFor="let artMap of garment.get('artMapping').controls; let j=index">
                      <div class="productCol10">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-select formControlName="src" [ngStyle]="{'background-image': 'url(' + artMap.get('src').value + ')'}" 
                          style="background-repeat: no-repeat;background-size: 40px 40px;height: 30px;" >
                            <mat-option *ngFor="let art of artArray; let i = index" [value]="art.src">
                              <img src={{art.src}} style="height: 60px;width: 60px;border-radius: 20px;padding: 10px;">
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol15">
                        <mat-form-field class="wrapField wrapper12" style="width: 100%" [formGroupName]="j">
                          <mat-label>Position</mat-label>
                          <mat-select formControlName="positionId" 
                          (selectionChange)="locationSelected(i,j,artMap.controls.positionId.value,artMap,garment,garment.controls.artMapping,i+1)" >
                            <mat-option *ngFor="let item of productLocationArray[i]" [value]="item.id" 
                            [disabled]="selectedLocationArray[i].indexOf(item.id)>-1">
                              {{item.name}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol15">
                        <mat-form-field class="wrapField wrapper12" style="width: 100%" [formGroupName]="j">
                          <mat-label>Service</mat-label>
                          <mat-select formControlName="serviceId" 
                          (selectionChange)="getDecoPricing(artMap,j,garment,garment.controls.artMapping,i+1)" >
                            <mat-option *ngFor="let item of getDecoServices(i,j)" [value]="item.id">{{item.name}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol7">
                        <mat-form-field class="wrapField wrapper12" style="width: 100%" [formGroupName]="j">
                          <mat-label>Color Count</mat-label>
                          <!-- <input matInput formControlName="noOfColors" type="number" min="0" (change)="openAddColorModal(artMap,j,garment,garment.controls.artMapping,i+1)" /> -->
                          <mat-select formControlName="noOfColors"
                            (selectionChange)="openAddColorModal(artMap,j,garment,garment.controls.artMapping,i+1)" >
                            <mat-option [value]="1">1</mat-option>
                            <mat-option [value]="2">2</mat-option>
                            <mat-option [value]="3">3</mat-option>
                            <mat-option [value]="4">4</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol35">
                        <mat-form-field class="wrapField wrapper12" style="width: 100%" [formGroupName]="j">
                          <mat-label>Colors</mat-label>
                          <input matInput formControlName="colors"  (click)="openAddColorModal(artMap,j,garment,garment.controls.artMapping,i+1)"/> <!-- -->
                          <!-- <span matSuffix>
                            <mat-icon>edit</mat-icon>
                          </span> -->
                        </mat-form-field>
                      </div>
                      <div class="productCol10">
                        <mat-form-field class="wrapField wrapper12" [formGroupName]="j">
                          <mat-label>Deco pricing</mat-label>
                          <span matPrefix>$&nbsp;</span>
                          <input matInput formControlName="decoPrice" type="number" min="0" readonly />
                        </mat-form-field>
                      </div>
                      <div class="productCol7 padding-top25">
                        <div [formGroupName]="j">
                          <span class="material-icons" 
                          (click)="removeArtMapping(garment.controls.artMapping,i,j)" style="cursor: pointer;" 
                          *ngIf="garment.get('artMapping').controls.length > 1">
                            clear
                          </span>
                          <span class="material-icons" 
                          (click)="addArtMapping(garment.controls.artMapping,garment)" style="cursor: pointer;" 
                          *ngIf="garment.get('artMapping').controls.length-1 == j && j < 4">
                            add
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="productCol100" style="border: lightgrey solid 1px;" [formGroupName]="i" *ngIf="garment.get('personalize').value == true">
                  <div formArrayName="teamStoreGarmentPersonalizations">
                    <div class="productRow" *ngFor="let personalize of garment.get('teamStoreGarmentPersonalizations').controls; let j=index">
                      <div class="productCol15">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Type</mat-label>
                          <mat-select formControlName="personalizedTypeId" 
                          (selectionChange)="personalizationTypeSelected(i,personalize,j,garment,garment.controls.teamStoreGarmentPersonalizations)" >
                            <mat-option *ngFor="let item of personalizationTypes" [value]="item.id" 
                            [disabled]="selectedPersonalizationTypeArray[i].indexOf(item.id)>-1">{{item.type}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol15">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Location</mat-label>
                          <mat-select formControlName="personalizedLocationId" 
                          (selectionChange)="personalizationPositionChange(personalize.value.personalizedLocationId,i,j)">
                            <mat-option [disabled]="selectedLocationArray[i].indexOf(item.id)>-1" 
                            *ngFor="let item of productLocationArray[i]" [value]="item.id">{{item.name}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol15">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Service</mat-label>
                          <mat-select formControlName="personalizedServiceId" (selectionChange)="onPersonalizationServiceChange(i,j)">
                            <mat-option *ngFor="let item of personalizationServiceArray" [value]="item.id">{{item.name}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol15">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Color</mat-label>
                          <mat-select formControlName="personalizedColorId">
                            <!-- <ng-container *ngIf="inkColors[i]"> -->
                              <mat-option *ngFor="let item of getPersonalizationInkColors(i, j)" [value]="item.id">{{item.name}}</mat-option>
                            <!-- </ng-container> -->
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol15">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Size</mat-label>
                          <mat-select formControlName="personalizedSizeId">
                            <mat-option *ngFor="let item of getPersonalizationSizes(i,j)" [value]="item.id">{{item.sizeName}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol15">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Font</mat-label>
                          <mat-select formControlName="personalizedFontId">
                            <mat-option *ngFor="let item of getPersonalizationFonts(i, j)" [value]="item.id">{{item.name}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <!-- <div class="productCol15">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Size</mat-label>
                          <mat-select formControlName="personalizedSizeId" >
                            <mat-option *ngFor="let item of sizeArray?.designsizes" [value]="item.id">{{item.sizeName}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="productCol15">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Font</mat-label>
                          <mat-select formControlName="personalizedFontId" >
                            <mat-option *ngFor="let item of fontArray" [value]="item.id">{{item.name}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div> -->
                      <div class="productCol7">
                        <mat-form-field class="wrapField" style="width: 100%" [formGroupName]="j">
                          <mat-label>Price</mat-label>
                          <span matPrefix>$&nbsp;</span>
                          <input matInput formControlName="personalizedCost" type="number" min="0" readonly />
                        </mat-form-field>
                      </div>
                      <div class="productCol3 padding-top25">
                        <div [formGroupName]="j">
                          <span class="material-icons" (click)="removepersonalization(garment.controls.teamStoreGarmentPersonalizations,i,j)" 
                          style="cursor: pointer;" *ngIf="garment.get('teamStoreGarmentPersonalizations').controls.length > 1">
                            clear
                          </span>
                          <span class="material-icons" (click)="addPersonalization(garment.controls.teamStoreGarmentPersonalizations,garment)" style="cursor: pointer;"
                          *ngIf="garment.get('teamStoreGarmentPersonalizations').controls.length-1 == j && garment.get('teamStoreGarmentPersonalizations').controls.length-1 < 1">
                            add
                          </span>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div><br>
          </form>
        </mat-card>
      </div>
    </div>
    <br />

    <div class="row">
      <div class="col-md-5">
        <mat-form-field class="formField">
          <mat-label>Customer Notes</mat-label>
          <textarea matInput formControlName="customerNotes" cdkTextareaAutosize cdkAutosizeMinRows="5"></textarea>
        </mat-form-field>
      </div>
      <div class="col-md-7">
        <div class="row">
          <div class="col-md-4">
            <h6>Team Colors:</h6>
            <label>Primary Color: {{teamStoreInfoObj?.primaryColor}}</label><br>
            <label>Secondary Color: {{teamStoreInfoObj?.secondaryColor}}</label><br>
            <label>Tertiary Color: {{teamStoreInfoObj?.tertiaryColor}}</label>
          </div>
          <div class="col-md-4" *ngIf="teamStoreInfoObj?.teamStoreCategories?.length">
            <h6>Categories to be included in store:</h6>
            <div *ngFor="let item of teamStoreInfoObj?.teamStoreCategories">
              <label>{{item.name}}</label><br>
            </div>

          </div>
          <div class="col-md-4">
            <h6>This store is for a:</h6>
            <div *ngFor="let item of teamStoreForArray">
              <label>{{item}}</label><br>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div *ngIf="teamStoreInfoObj?.customerRejection?.rejectionCode != 0">
          <label >Rejection Reason :</label>
          <div *ngFor="let item of selectedRejectionCodes">
            <label>
              {{item.code}}
            </label>
          </div> 
        </div>
        <br>
        <label *ngIf="teamStoreInfoObj?.customerRejection?.rejectionCode != ''">Rejection Notes : {{teamStoreInfoObj?.customerRejection?.rejectionReason}}</label>
      </div>
      <div class="col-md-4" style="text-align: right;">
        <!-- <button [disabled]="loading" class="btn btn-primary addArtBtn" style="float: right" (click)="createStore()">
          <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
          To Store Creation<mat-icon class="storeCreationBtn">keyboard_arrow_right</mat-icon>
        </button> -->
        <button type="button" class="btn btn-primary addArtBtn float-right" (click)="createStore()">
          Update Store and Go to Product List
        </button>
      </div>
    </div>
  </form>
</mat-card>

<div class="modal fade" id="addProductModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
      </div>
      <div class="modal-body">
        <mat-form-field class="wrapField" style="width: 100%">
          <mat-label>Product Category</mat-label>
          <mat-select (selectionChange)="toggleProductList(selectedCategory)" [(ngModel)]="selectedCategory">
            <mat-option *ngFor="let category of categoryList" [value]="category.id">{{ category.name }}</mat-option>
          </mat-select>
        </mat-form-field>
        <br />

        <mat-form-field>
          <mat-label>Product List</mat-label>
          <input type="text" matInput [formControl]="productFormControl" [matAutocomplete]="auto">
          <mat-autocomplete #auto="matAutocomplete" (optionSelected)="productSelection($event.option.value.split(' - ')[0])">
            <mat-option *ngFor="let product of filteredProductList | async" [value]="product.id+' - '+product.name">
              {{product.id+' - '+product.name}}
              <img src="{{product?.images[0]}}" alt="no image" *ngIf="product?.images"
              style="height: 40px;width: 40px;border-radius: 20px;;padding-top: 3px; margin-right: 10px; float:right;">
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="addArtModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" (click)="closeArtModal()">
          &times;
        </button>
      </div>
      <div class="modal-body">
        <form #form="ngForm">
          <mat-form-field style="width: 80%">
            <mat-label>Add Link</mat-label>
            <input type="text" matInput name="name" id="name" [(ngModel)]="imageUrl" />
          </mat-form-field>
          <button type="button" class="btn addArtBtn" (click)="addImageLink(imageUrl)">
            Add link
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="addColorModal" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <form #form="ngForm">
          <mat-form-field style="width: 80%">
            <mat-label>Colors</mat-label>
            <mat-select [formControl]="selectedArtColors" #colorSelect multiple
            (selectionChange)="onColorSelectionChange($event)">
              <mat-select-trigger>
                <mat-chip-list>
                  <mat-chip *ngFor="let color of selectedArtColors.value" [removable]="true" (removed)="onArtColorRemoved(color)">
                    {{ color.name }}
                    <mat-icon matChipRemove>cancel</mat-icon>
                  </mat-chip>
                </mat-chip-list>
              </mat-select-trigger>
              <mat-option [value]='color' *ngFor="let color of selectedInkColorArray">{{color.name}}</mat-option>
            </mat-select>
          </mat-form-field>
          <button type="button" class="btn addArtBtn" (click)="updateArtColor()">
            Update
          </button>
          <button class="btn btn-danger btn-sm float-right mr-2" data-dismiss="modal"> Cancel </button>
        </form>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="addProductModal2" role="dialog">
  <div class="modal-dialog" style="max-width: 95%;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
      </div>
      <div class="modal-body">
        <div class="filter-container row border-bottom border-success">
          <div class="col m-3">
              <mat-form-field class="w-100" appearance="fill">
                  <mat-label>Product Name</mat-label>
                  <input matInput placeholder="Enter product name" [(ngModel)]="filterParams.filterText">
              </mat-form-field>
          </div>
          <div class="col m-3">
              <mat-form-field class="w-100" appearance="fill">
                  <mat-label>Style Name</mat-label>
                  <input matInput placeholder="Enter product style name" [(ngModel)]="filterParams.styleName">
              </mat-form-field>
          </div>
          <div class="col m-3">
              <mat-form-field appearance="fill" class="w-100">
                  <mat-label>Categories</mat-label>
                  <mat-select multiple [(ngModel)]="filterParams.categories">
                      <mat-option *ngFor="let element of categoryList" [value]="element.id">{{element.name}}
                      </mat-option>
                  </mat-select>
              </mat-form-field>
          </div>
          <div class="col m-3">
              <mat-form-field appearance="fill" class="w-100">
                  <mat-label>Vendor</mat-label>
                  <mat-select multiple [(ngModel)]="filterParams.vendorName">
                      <mat-option *ngFor="let element of vendorList" [value]="element.name">{{element.name}}
                      </mat-option>
                  </mat-select>
              </mat-form-field>
          </div>
          <div class="col text-center m-3">
              <button mat-raised-button color="primary" class="mt-2" (click)="getProducts()">Search Products</button>
              <button mat-raised-button color="primary" class="mt-2 ml-2" (click)="clearFilter()">Clear Filter</button>
          </div>
      </div>
      
      <div class="card-container p-5">
          <div class="mw-fi"></div>
          <div class="prod-card m-1" *ngFor="let product of productList" (click)="productSelection(product.id)">
              <div class="w-100 prod-img">
                  <img src="{{product?.images ? product?.images[0] : ''}}">
              </div>
              <p>
                  {{product?.displayName || product?.name}} <br>
                  {{product?.vendorName || '-'}} / {{product?.styleName?.split(',')[0] || '-'}}
              </p>
          </div>
      </div>
      
      <mat-paginator class="m-3 mt-0" [length]="paginator.length" [pageSize]="paginator.pageSize"
          [pageSizeOptions]="paginator.pageSizeOptions" aria-label="Select page" (page)="pageEvent($event)">
      </mat-paginator>
      </div>
    </div>
  </div>
</div>